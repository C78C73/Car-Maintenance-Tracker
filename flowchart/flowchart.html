<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Details</title>
    <link rel="stylesheet" href="flowchart.css">
    <link rel="stylesheet" href="../theme.css">
</head>
<body>
    <!-- Back Button -->
    <a href="../landing/landing.html" class="back-button">Back</a>

    <div class="container">
        <h1>Car Details for <span id="carNickname">Unknown</span></h1>

        <!-- Section for car details -->
        <div id="carDetailsSection">
            <form id="carDetailsForm">
                <label for="carMake">Make:</label>
                <input type="text" id="carMake" name="carMake" placeholder="Enter car make">

                <label for="carModel">Model:</label>
                <input type="text" id="carModel" name="carModel" placeholder="Enter car model">

                <label for="carYear">Year:</label>
                <input type="number" id="carYear" name="carYear" placeholder="Enter car year">

                <label for="carNicknameInput">Nickname:</label>
                <input type="text" id="carNicknameInput" name="carNicknameInput" placeholder="Enter car nickname">

                <button type="button" id="saveCarDetails">Save Car Details</button>
            </form>
        </div>

        <!-- Flowchart Section -->
        <div id="flowchartSection">
            <h2>Repair History Flowchart</h2>
            <div id="repairFlowchart">
                <!-- Flowchart content dynamically generated here -->
                <ul id="flowchartList">
                    <!-- Existing flowchart items will be added here -->
                </ul>
            </div>

            <!-- Form to add new flowchart entries -->
            <form id="addFlowchartEntryForm">
                <label for="entryDate">Date:</label>
                <input type="date" id="entryDate" name="entryDate" required>

                <label for="entryTitle">Title:</label>
                <input type="text" id="entryTitle" name="entryTitle" placeholder="Enter repair title" required>

                <label for="entryDescription">Description:</label>
                <input type="text" id="entryDescription" name="entryDescription" placeholder="Enter repair description" required>

                <button type="button" id="addFlowchartEntry">Add Entry</button>
            </form>

            <button type="button" id="saveFlowchart">Save Flowchart</button>
        </div>

        <!-- Modal for viewing flowchart entry details -->
        <div id="entryModal" class="hidden">
            <h3 id="modalTitle"></h3>
            <p><strong>Date:</strong> <span id="modalDate"></span></p>
            <p><strong>Description:</strong> <span id="modalDescription"></span></p>
            <button type="button" id="closeModal">Close</button>
        </div>
    </div>

    <script src="flowchart.js" defer></script>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyBK7AQTFWXSHPQj93uuauypL9ZtIDz1d_Y",
          authDomain: "car-maintenance-tracker-fac0a.firebaseapp.com",
          projectId: "car-maintenance-tracker-fac0a",
          storageBucket: "car-maintenance-tracker-fac0a.firebasestorage.app",
          messagingSenderId: "4022406592",
          appId: "1:4022406592:web:7b6f2e13842dca36780c25",
          measurementId: "G-JT5GDF6VQS"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
      </script>

      <script src="../theme.js" defer></script>

</body>
</html>